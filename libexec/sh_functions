# =============================================================================
# sh_functions
# =============================================================================

# -----------------------------------------------------------------------------
# msg: display message to stdout
# -----------------------------------------------------------------------------
msg() {
    echo "--- $*"
}

# -----------------------------------------------------------------------------
# hdr: display header message to stdout
# -----------------------------------------------------------------------------
hdr() {
    echo "=== $*"
}

# -----------------------------------------------------------------------------
# err: display message to stderr
# -----------------------------------------------------------------------------
err() {
    echo "!!! $*" >&2
}

# -----------------------------------------------------------------------------
# die: exit with non-zero after displaying error (if any)
# -----------------------------------------------------------------------------
die() {
    [[ $# > 0 ]] && err $* >&2
    exit 1
}

# -----------------------------------------------------------------------------
# command_exists: return true/false if command exists/doesn't exists
# -----------------------------------------------------------------------------
command_exists() {
  command -v $1 >/dev/null
}

# -----------------------------------------------------------------------------
# gnutar: try to invoke GNU tar over system tar
# -----------------------------------------------------------------------------
gnutar() {
    local tarcmd=tar
    type gtar >/dev/null 2>&1 && tarcmd=gtar
    $tarcmd $@
}

# -----------------------------------------------------------------------------
# link: ln helper
# -----------------------------------------------------------------------------
link () {
  local src=$1
  local tgt=$2
  msg "linking $tgt -> $src"
  rm -f "$tgt"
  ln -s "$src" "$tgt"
}

# -----------------------------------------------------------------------------
# formatting
# -----------------------------------------------------------------------------

# bold
b() {
    tput bold
    printf "%s" "$*"
    tput sgr0
}

# underline
u() {
    tput smul
    printf "%s" "$*"
    tput rmul
}

# uppercase
U() {
    echo "$*" | awk '{print toupper($0)}'
}

# code
c() {
    tput bold
    printf "%s" "$*"
    tput sgr0
}

# vim: ft=sh et sw=4 sts=4
