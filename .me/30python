export PYTHONPATH=$ME_LIB_DIR/python
export PYTHONSTARTUP=$ME_LIBEXEC_DIR/pythonstartup.py
export ME_VIRTUALENV_HOME=$ME/.virtualenv

alias py3=python3
alias ipy3=ipython3
alias pydoc3='py3 -m pydoc'

alias py2=python2
alias ipy2=ipython2
alias pydoc2='py2 -m pydoc'

alias py=py3
alias ipy=ipy3
alias pip=pip3
alias pydoc=pydoc3


pypath() {
    if [[ $# == 0 ]] ; then
        echo $PYTHONPATH | tr ':' '\n'
    else
        for p in $* ; do
            PYTHONPATH=$p:$PYTHONPATH
        done
        echo PYTHONPATH now:
        pypath
    fi
}

venv() {
    local name=$1
    if [[ $# == 0 ]] ; then
        echo "name not provided"
        return 1
    fi
    if [[ $# > 1 ]] ; then
        echo "too many arguments"
        return 1
    fi
    mkdir -p $ME_VIRTUALENV_HOME
    if [[ ! -d $ME_VIRTUALENV_HOME/$name ]] ; then
        echo virtualenv $name does not exist
        echo -n "[ENTER] to create..."
        read
        virtualenv $ME_VIRTUALENV_HOME/$name \
            --python python3 \
            --prompt "%{$fg[cyan]%}$name%{${reset_color}%} " \
            || return
    fi
    source $ME_VIRTUALENV_HOME/$name/bin/activate
}

# vim: ft=zsh
