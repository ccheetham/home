#!/usr/bin/env zsh

# =============================================================================
# vi wrapper
# -----------------------------------------------------------------------------
# to install xterm-256color-italic, run:
#   refresh terminfo
# =============================================================================


source $(dirname $0)/../etc/profile

terms=(xterm-256color-italic xterm-256color xterm-color xterm)
vi=vi

for term in $terms; do
  if infocmp $term > /dev/null 2>&1; then
    TERM=$term
    break
  fi
done

if command -v nvim >/dev/null; then
  vi=nvim
elif command -v vim >/dev/null; then
  vi=vim
fi

exec $vi $*
