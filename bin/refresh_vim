#!/usr/bin/env zsh

VIM_DIR=$ME/.vim
REPO_DIR=../../var/repo

cd $VIM_DIR

link_dir() {
    local src=$1
    local tgt=$2
    (
    /bin/mkdir -p $VIM_DIR/$tgt
    cd $VIM_DIR/$tgt
    [[ -e $src ]] && /bin/rm $src
    /bin/ln -s $REPO_DIR/$src
    )
}

link_files() {
    local src=$1
    local tgt=$2
    (
    /bin/mkdir -p $VIM_DIR/$tgt
    cd $VIM_DIR/$tgt
    for f in $REPO_DIR/$src/* ; do
        [[ -e $(basename $f) ]] && /bin/rm $(basename $f)
        /bin/ln -s $f
    done
    )
}

link_dir Vundle.vim bundle
link_files tomorrow-theme/vim/colors colors

vim +PluginUpdate +qall
