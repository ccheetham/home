#!/usr/bin/env zsh

vimdir=$ME/.vim

cd $vimdir

link_dir() {
    local src=$1
    local tgt=$2
    (
    /bin/mkdir -p $vimdir/$tgt
    cd $vimdir/$tgt
    [[ -e $src ]] && /bin/rm $src
    /bin/ln -s $ME_REPO_DIR/$src
    )
}

link_files() {
    local src=$1
    local tgt=$2
    (
    /bin/mkdir -p $vimdir/$tgt
    cd $vimdir/$tgt
    for f in $ME_REPO_DIR/$src/* ; do
        [[ -e $(basename $f) ]] && /bin/rm $(basename $f)
        /bin/ln -s $f
    done
    )
}

link_dir Vundle.vim bundle
link_files tomorrow-theme/vim/colors colors

vim +PluginClean! +PluginUpdate +qall
